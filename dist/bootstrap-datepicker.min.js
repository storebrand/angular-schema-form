angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,t,n){var i=function(t,i,a){if("string"===i.type&&"date-format"===i.format){var o=e.stdFormObj(t,i,a);return o.key=a.path,o.type="datepicker",a.lookup[n.stringify(a.path)]=o,o}};e.defaults.string.unshift(i)}]),angular.module("schemaForm").directive("stbDatepicker",["$timeout",function(e){"use strict";return{restrict:"A",require:"ngModel",priority:1,link:function(t,n,i,a){function o(){var e=d.val(),t=p.val();return r(e,t)}function r(e,t){return moment(e,"DD.MM.YY").format("YYYY-MM-DD")+(s?"T"+moment(t,"HH:mm").format("HH:mm:ss"):"")}function m(e){return(e||"").replace(/^(\d{1}):/,"0$1:")}function u(){return moment(a.$viewValue).format("HH:mm")}function c(){return moment(a.$viewValue).format("DD.MM.YY")}if(n.unbind("input").unbind("keydown").unbind("change"),$.fn.datetimepicker){var f=moment(),l=t.$eval(i.monthlyDifference),d=$(n).find("input"),p=$(n).find("select"),s=Boolean(i.showTime);if($(n).datetimepicker({pickTime:!1,language:"nn",format:"DD.MM.YY",minDate:t.$eval(i.minDate)||t.$eval(i.disableUntilToday)&&f.toDate(),maxDate:t.$eval(i.maxDate)||l&&moment(f).add(l,"Month").toDate()}).on("dp.change",function(){t.$apply(function(){a.$setViewValue(o())})}).on("dp.error",function(){t.$apply(function(){a.$setViewValue(void 0)})}),t.$watch(t.keyModelName,function(){a.$viewValue&&e(function(){p.val(u()),$(n).data("DateTimePicker").setDate(c())})}),s){for(var v=24,D=0;v>D;D++)p.append("<option>"+m(D+":00")+"</option><option>"+m(D+":30")+"</option>");p.change(function(){t.$apply(function(){a.$setViewValue(o())})})}}}}}]);