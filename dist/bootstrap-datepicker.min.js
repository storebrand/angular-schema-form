angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,t,a){var n=function(t,n,i){if("string"===n.type&&"date"===n.format){var r=e.stdFormObj(t,n,i);return r.key=i.path,r.type="datepicker",i.lookup[a.stringify(i.path)]=r,r}};e.defaults.string.unshift(n)}]),angular.module("schemaForm").directive("stbDatepicker",["$timeout",function(e){var t="DD.MM.YYYY",a=[t],n=moment();return{restrict:"A",require:"ngModel",priority:1,link:function(i,r,o,m){if(r.unbind("input").unbind("keydown").unbind("change"),$.fn.datetimepicker){var u=i.$eval(o.monthlyDifference),d=i.$eval(o.hasDefaultDate);$(r).parent().datetimepicker({pickTime:!1,language:"nb",format:t,minDate:i.$eval(o.minDate)||i.$eval(o.disableUntilToday)&&n.toDate(),maxDate:i.$eval(o.maxDate)||u&&moment(n).add(u,"Month").toDate()}).on("dp.change",function(e){i.$apply(function(){m.$setViewValue(moment(e.date,a).format(t))})}).on("dp.error",function(e){i.$apply(function(){m.$setViewValue(void 0)})}),e(function(){d&&(m.$modelValue||m.$setViewValue(n.format(t)),$(r).parent().data("DateTimePicker").setDate(moment(m.$viewValue,a).format(t)))},0,!1)}}}}]);