angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,t,a){var n=function(t,n,i){if("string"===n.type&&"date"===n.format){var o=e.stdFormObj(t,n,i);return o.key=i.path,o.type="datepicker",i.lookup[a.stringify(i.path)]=o,o}};e.defaults.string.unshift(n)}]),angular.module("schemaForm").directive("stbDatepicker",["$timeout",function(e){return{restrict:"A",require:"ngModel",priority:1,link:function(t,a,n,i){if(a.unbind("input").unbind("keydown").unbind("change"),$.fn.datetimepicker){var o=moment(),r=t.$eval(n.monthlyDifference),m=t.$eval(n.hasDefaultDate);$(a).parent().datetimepicker({pickTime:!1,language:"nb",format:"DD.MM.YYYY",minDate:t.$eval(n.minDate)||t.$eval(n.disableUntilToday)&&o.toDate(),maxDate:t.$eval(n.maxDate)||r&&moment(o).add(r,"Month").toDate()}).on("dp.change",function(e){t.$apply(function(){console.log("dp.change => date: ",moment(e.date).format("DD.MM.YYYY")),i.$setViewValue(moment(e.date).format("DD.MM.YYYY"))})}).on("dp.error",function(e){t.$apply(function(){i.$setViewValue(void 0)})}),e(function(){m&&(console.log("link function => $viewValue: ",i.$viewValue),$(a).parent().data("DateTimePicker").setDate(moment(i.$viewValue).format("DD.MM.YYYY")))},0)}}}}]);