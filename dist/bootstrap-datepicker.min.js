angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,t,a){var n=function(t,n,i){if("string"===n.type&&"date-format"===n.format){var r=e.stdFormObj(t,n,i);return r.key=i.path,r.type="datepicker",i.lookup[a.stringify(i.path)]=r,r}};e.defaults.string.unshift(n)}]),angular.module("schemaForm").directive("stbDatepicker",["$timeout",function(e){"use strict";return{restrict:"A",require:"ngModel",priority:0,link:function(t,a,n,i){if(a.unbind("input").unbind("keydown").unbind("change"),$.fn.datetimepicker){var r=moment(),o=t.$eval(n.monthlyDifference);$(a).parent().datetimepicker({pickTime:!1,useCurrent:!1,language:"nn",format:"DD.MM.YY",minDate:t.$eval(n.minDate)||t.$eval(n.disableUntilToday)&&r.toDate(),maxDate:t.$eval(n.maxDate)||o&&moment(r).add(o,"Month").toDate()}).on("dp.change",function(e){t.$apply(function(){i.$setViewValue(moment(e.date).format("YYYY-MM-DD"))})}).on("dp.error",function(){t.$apply(function(){i.$setViewValue(void 0)})}),t.$watch(t.keyModelName,function(){i.$viewValue&&e(function(){$(a).parent().data("DateTimePicker").setDate(moment(i.$viewValue).format("DD.MM.YY"))})})}}}}]);