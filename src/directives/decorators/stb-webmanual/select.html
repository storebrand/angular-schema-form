<div ng-if="form.dataType === 'object'" class="form-group" ng-show="showCondition()">
    <div class="label-wrapper">
        <label ng-show="showTitle()">{{form.title}}<span class="sub">{{form.subtitle}}</span></label>
        <span ng-if="form.infoMessage" info-help-message info-message="form.infoMessage"></span>
    </div>

    <span class="help-block navn-message has-error"
          ng-show="!disabledElement() && hasError() && errorMessage(schemaError())">
        <small class="help-block">
            <span class="stb-color-sprite-small warning circle"></span>
            <span ng-bind-html="(hasError() && errorMessage(schemaError()))"></span>
        </small>
    </span>

    <div>
        <div class="stb-form-group select"
             ng-class="{'has-error': !disabledElement() && hasError(), 'has-success': !disabledElement() && hasSuccess() && conditionalValidationSuccess(), 'has-feedback': form.feedback !== false }">
            <div class="selectContainer">
                <select ng-model="$$value$$"
                        ng-model-options="form.ngModelOptions"
                        sf-changed="form"
                        class="form-control"
                        schema-validate="form"
                        ng-options="item as item.name for item in form.titleMap | orderBy: 'name' track by item.name">
                </select>
                <i class="form-control-feedback glyphicon"
                   ng-class="{'glyphicon-ok': hasSuccess(), 'glyphicon-remove': hasError()}"></i>
            </div>
        </div>
    </div>
</div>

<div ng-if="form.dataType !== 'object'" class="form-group" ng-show="showCondition()">
    <div class="label-wrapper">
        <label ng-show="showTitle()">{{form.title}}<span class="sub">{{form.subtitle}}</span></label>
        <span ng-if="form.infoMessage" info-help-message info-message="form.infoMessage"></span>
    </div>

    <span class="help-block navn-message has-error"
          ng-show="!disabledElement() && hasError() && errorMessage(schemaError())">
        <small class="help-block">
            <span class="stb-color-sprite-small warning circle"></span>
            <span ng-bind-html="(hasError() && errorMessage(schemaError()))"></span>
        </small>
    </span>

    <div>
        <div class="stb-form-group select"
             ng-class="{'has-error': !disabledElement() && hasError(), 'has-success': !disabledElement() && hasSuccess() && conditionalValidationSuccess(), 'has-feedback': form.feedback !== false }">
            <div class="selectContainer">
                <select ng-model="$$value$$"
                        ng-model-options="form.ngModelOptions"
                        sf-changed="form"
                        class="form-control"
                        schema-validate="form"
                        ng-options="item.value as item.name for item in form.titleMap">
                </select>
                <i class="form-control-feedback glyphicon"
                   ng-class="{'glyphicon-ok': hasSuccess(), 'glyphicon-remove': hasError()}"></i>
            </div>
        </div>
    </div>
</div>